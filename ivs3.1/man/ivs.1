.\"  @(#)ivs.1 3.1 93/5/4 SMI
.\"
.\"  Copyright (c) 1992 by INRIA Sophia-Antipolis
.\"
.TH IVS 1 "4 May 1993
.SH NAME
.B ivs
(INRIA VIDEOCONFERENCE SYSTEM)
 \- X11-based videoconferencing tool for Sparc, HP, DEC and SGI workstations.

.SH SYNOPSIS
.B ivs
[
.B \-I
.I multicast address
] [
.B \-T
.I ttl
] [
.B \-N
.I user name
] [
.B \-d
.I display
] [
.B \-double
] [
.B \-r
] [
.B \-a
] [
.B \-v
] [
.B \-dp
] [
.B \-grey
] [
.B \-q
.I quantizer
] [
.B \-S 
.I squelch level
] [
.B \-stat
] [
.I host name
]

.SH DESCRIPTION
.LP
.B ivs
allows users to conduct multihost audio and video conferences over the
Internet. 
.B ivs
requires a workstation with a screen with 1, 4, 8 or 24 bits depth.
Multihost conferences require that the
kernel support multicast IP extensions (RFC 1112).
.P
On video input, video frames are grabbed by the
.B VideoPix 
or 
.B Parallax
boards for SparcStations or
.B Raster Rops
board for HP stations
or the 
.B IndigoVideo
board for SGI IRIS Indigo workstations.
or the
.B VIDEOTX
board for DEC stations.
No special hardware apart from the workstation's build-in audio
hardware is required for audio conference. 

.B ivs
may be run either in multicast mode or in unicast mode. Running
ivs in unicast mode allows you to call someone on the network,
provided that your party is running an ivs daemon (see ivsd(1)).
To call your party, you need only to click on the
.B Call up
button. If your party does not respond, you can abort the ivs talk
by clicking on the
.B Abort call
button. A message will notify your party of the talk request.

.P
Video encoding is done according to the
.B H.261
standard (but see BUGS below).
The video stream can be encoded in either
.B Super CIF
(704x576 pixels) format or
.B CIF
(352x288 pixels) format or
.B QCIF
(176x144 pixels). Default format is 
.B CIF.

H.261 packetization stream is done according the Internet Draft,
(see SEE ALSO section).
Note that the decoder can decode a packet (i.e. part of
an image) before all the packets from that image have been received.
If a GOB doesn't contain any information, its header will be sent 
with the next encoded GOB.


The
.B rate control
menu allows you to choose the rate control method. Three choices
are available :

.B         * Without rate control
is the default mode. Video data are sent without any rate control.

.B         * Privilege quality
option reduces the frame rate in order not to overrun the maximum
rate chosen by the 
.B Max bandwidth
scale.

.B         * Privilege frame rate
option controls video rate by using different quantizers and changing
the movement detection threshold. These parameters are dynamically
chosen to fit in the bandwidth selected.

The
.B rate control
also contains options to allow or avoid feedbacks from decoders.
The 
.B Avoid Feedback
mode must be chosen when there are a lot of decoding stations (more than
10). Video decoders won't send to the video coder Negative
Acknowledges neither Full Intra Requests. This option limits the
number of successives INTER encodings blocks and forces the INTRA
encoding mode more frequently.

.B local display
button allow you to display the locally generated image directly.
It is useful to tune the camera, or in unicast mode to see
the video you send to your correspondent. Note
that this mode reduces the codec speed.

.SH Audio Encoding
The audio stream can be encoded with either
.B PCM
(64 kb/s),
.B ADPCM
(32 kb/s) or
.B VADPCM 
(variable rate ADPCM) compression techniques.
The ADPCM 32 kb/s codec is based on Jack Jansen's codec
(Jack.Jansen@cwi.nl) with modifications to support the
SparcStation's audio format. Note that the state record is reset with
each packet to tolerate packet loss. 
The VADPCM codec is a variant of the ADPCM codec, in which Huffman codes
are used to encode ADPCM coefficients.

.B ivs
currently displays the list of active audio/video conference sites
with your site appearing first in color. Sites which are sending
audio/video are displayed first, and passive sites below.

When a site is sending audio data, a button appears on
the right side with the label "Muting" or "Listening". The latter
means that audio data from that site is
decoded. "Muting" means that the audio data is dropped.
Similarly, when a site is sending video data, a button appears on
the right side with the label "Hiding" or "Showing". The latter
means that video data from that site is
decoded. "Hiding" means that the video data is dropped.
To start or stop decoding sites, click on the corresponding buttons.
By default, audio and video information from remote sides are
automatically decoded. Each station periodically sends
a "declaration packet". 
So, a station which doesn't reply is automatically marked on grey of the
local table. It's useful because UDP is not reliable.

.SH OPTIONS
.LP
.TP 10
.B \-I \fImulticast address\fR 
Change the multicast address. You can specify an IP multicast
address in the range 224.0.0.0 to 239.255.255.255. By default this
address is read in the default file 
.B .videoconf.default
or, if it doesn't exist, is set to 224.8.8.8.
.TP 10
.B \-T \fIttl\fR
Set the multicast time-to-live to \fIttl\fR.
Default value is 32.
.TP 10
.B \-N \fIuser\fR
Override your unix user name with \fIuser\fR
.TP 10
.B \-d \fIdisplay\fR
Specifies the X-server to connect to; see \fIX\fR(1).
.TP 10
.B \-double
In this mode, QCIF video images are doubled in order to have a CIF
display. 
.TP 10
.B \-r
In this mode, only the stations which encode audio and/or video
are stored in the local table. Useful when there are more than ten
stations in the videoconference.
.TP 10
.B \-a
Prevent automatical decoding of audio data.
.TP 10
.B \-v
Prevent automatical decoding of video data.
.TP 10
.B \-dp
Disable the \fIPush to talk\fR button (Sparc only).
.TP 10
.B \-grey
Force grey decoding display.
.TP
.B \-q \fIquantizer\fR
Force the default quantizer value; useful when sending to Bitfield codec.
.TP 10
.B \-S \fISquelch level\fR
Force the default squelch level (silence detection threshold
between 0 and 255).
.TP 10
.B \-stat
Statistic mode. Two files \fI.ivs.dloss\fR and \fI.ivs.login\fR are
filled with packet loss information and the list of changes of the
stations participating at your conference. 
.TP 10
.B  \fIhost name\fR
Put 
.B ivs
in 
.B unicast
mode. Audio and video data are sent to the host
selected. In this mode, you cannot decode your own data unless the
\fIhost name\fR is set to your actual host name. Note that you can
receive data from several sites. You can also put the Internet address style
a.b.c.d, it's sometimes useful when 
.IR gethostbyname (3)
fails.

.SH CCITT RECOMMENDATION H.261
This recommendation describes the video coding and decoding methods for the 
moving picture component of audiovisual services at the rates of 
.B "p x 64"
kbits/s, 
where p is in the range 1 to 30. Two picture scanning format are specified. 
In the first format, 
.BR CIF ,
the luminance sampling structure is 352 pixels per line, 144 lines per
picture in an orthogonal arrangement. Sampling of each of the two color
difference components is at 176 pixels per line, 144 lines per picture,
orthogonal. 
The second format
.BR QCIF ,
has half the number of pixels and half the number of lines stated above.

.SH NOTES
.LP
The 
.B VideoPix 
card is designed to be used with SparcStations IPC, 1, 1+, 2, IPX and 10.
The IndigoVideo card is designed for IRIS Indigos
(either R3000 or R4000 models) with Entry Graphics.
.P
The transmitted bit-stream doesn't contain a BCH11 (511,493) forward error
correction code.
The
.B Athena 
toolkit is used to provide the graphical user interface.
The multicast IP extensions (RFC 1112) for SunOS are freely available by
anonymous ftp from gregorio.stanford.edu in "vmtp-ip" directory.
IP multicasting is standard on the SGI IRIS machines.

.SH BUGS
This software release can optionally encode video in color using a
SparcStation, a VideoPix board and a PAL camera.
Motion vectors are not implemented in the coder, but can de decoded.

.SH "SEE ALSO"
.IR "Using VideoPix" ,
.IR "CCITT Recommendation H.261",
.I "RFC 1112"
(Steve Deering, Stanford University),
.I "Packetization of H.261 video streams", 
(Christian Huitema, Thierry Turletti), March 22 1993, Audio-Video
Transport WG, Internet Draft.
.BR h261_decode (1),
.BR h261_encode (1),
.BR ivs_record (1),
.BR ivs_replay (1),
.BR ivsd (1),
.BR ADPCM (2),
.BR X (1).

.SH "AUTHORS"
Thierry Turletti <turletti@sophia.inria.fr>.
.br
ADPCM audio codec provided by Jack Jansen <Jack.Jansen@cwi.nl>.
.br
Colormap managing provided by Pierre Delamotte
<delamot@wagner.inria.fr>.
.br 
SGI Indigo video capture support provided by Guido Van Rossum
<Guido.van.Rossum@cwi.nl>.
.br
HP video capture support provided by Edgar Ostrowski, Frank Ruge
and Markus Rebensburg <{edgar|frank|markus}@prz.tu-berlin.dbp.de>.
.br
SUN Parallax video capture support provided by Edgar Ostrowski and
Frank Ruge.
.br
DEC video capture support provided by Jian Zhang <jian@jrc.flinders.edu.au>.
